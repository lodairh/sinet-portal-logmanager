# tools/report

## 概要
- ここにあるスクリプトは、サーバ内のどこに置いてあってもよい。
- admin/report の CGI スクリプトとデータベースを共有するので、コード内の `$log_dir` に設定されているデータベースへの PATH を admin/repoot 内各 CGI スクリプトの `$log_dir` と一致させる必要がある。

## ファイル
- getlog.pl
  - ログ取得、データベース格納機能
  - 実行すると、SINET ポータルの log file から、必要な分だけの指定された日付のログを取得し、データベースに格納する。
  - cron 機能を使って1日1回自動実行されることを想定している。
- makereport_daily.pl
  - getlog.pl が取得しデータベースに格納したデータから、統計情報を計算して再度データベースに格納する。
  - cron 機能を使って1日1回自動実行されることを想定している。
- portalreport_db.create
  - 各スクリプトがデータを参照、格納するデータベースのスキーマ情報
